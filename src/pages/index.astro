---
import Layout from '../layouts/Layout.astro'
import Card from '../components/Card.astro'
import Topstripe from '../components/Topstripe.astro'
---

<Layout title="Synthwave Music by lebchen">
  <div parallax-container>
    <div class="parallax-image" style="background-position-y: 0px;"></div>
    <div class="layout">
      <header>
        <Topstripe />
        <img src="/header.png" alt="Synthwave Music by lebchen" />
      </header>
      <main>
        <div class="link-card-grid">
          <Card href="/crosssnow/" title="CrossSnow Special Edition OST" />
          <Card href="/cold_cuts/" title="CrossSnow Cold Cuts EP" />
          <Card href="/afterglow_bliss/" title="Afterglow Bliss, feat. Ofat" />
          <Card href="/understrom/" title="UnderstrÃ¸m, feat. Sad Alien" />
          <Card href="/mmc/" title="It Came from the MMC" />
          <Card href="/ademonconduit/" title="A Demon Conduit" />
          <Card
            href="/prelude_4_opus_28-chopin-feat_sad_alien/"
            title="Prelude 4 Opus 28 - Chopin feat. Sad Alien"
          />
          <Card href="/the_world_is_yours/" title="The World is Yours" />
          <Card href="/dont_be_gentle/" title="Don't Be Gentle" />
        </div>
      </main>
    </div>
  </div>

  <script>
    const parallaxImage = document.querySelector('.parallax-image')

    if (!(parallaxImage instanceof HTMLElement)) {
      throw new Error('Parallax image not found')
    }

    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY
      parallaxImage.style.backgroundPositionY = `${scrollY * -0.05}px`
    })
  </script>
</Layout>

<style>
  header {
    display: flex;
    flex-direction: column;
    max-width: 100vw;
  }
  main {
    margin-top: 40px;
    flex-grow: 1;
    text-align: center;
    background-color: black;
    max-width: 975px;
    width: 100%;
    padding-top: 30px;
  }

  .link-card-grid {
    color: white;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    gap: 24px;
    justify-content: center;
    padding-bottom: 30px;
  }

  @media screen and (max-width: 1350px) {
    main {
      background-color: transparent;
      margin-top: 0;
    }

    .link-card-grid {
      justify-content: space-between;
    }
  }

  .parallax-image {
    margin: 0;
    padding: 0;
    background-color: #040004;
    background-image: url('./cthulu_tiles.png');
    background-size: 1024px;
    position: fixed;
    top: 0;
    height: 100vh;
    width: 100vw;
    z-index: -1;
  }

  .layout {
    display: flex;
    flex-direction: column;
    padding-bottom: 26px;
    align-items: center;
    min-height: calc(100vh - 26px);
  }
</style>
